{% extends 'layout.html.twig' %}

{% block title %}PartHub - Party Dashboard{% endblock %}


{% block content %}
    <div class="p-4 p-md-5 my-4 text-white rounded bg-dark">
        <div class="col-md-6 px-0">
            <h1 class="display-4 fst-italic">{{ party.title }}</h1>
        </div>
    </div>
    <div class="row row-cols-1 row-cols-md-3 mb-3 text-center">
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm">
                <div class="card-body">
                    <p>(Décompte MARA)</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm">
                <div class="card-body">
                    <p>{{ totalUsers }} Participants</p>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm">
                <div class="card-body">
                    <p>Budget: VARIABLE TWIG</p>
                </div>
            </div>
        </div>

        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm">
                <div class="card-header py-3 text-white bg-orange">
                    <h4 class="my-0 fw-normal">{{party.title}}</h4>
                </div>
                <div class="card-body">
                    <p>Date de l'événement: {{ party.date|date("d/m/Y") }}</p>
                    <ul class="list-unstyled mt-3 mb-4">
                        <li>{{ party.address }}</li>
                        <li>{{ party.zip }}</li>
                        <li>{{ party.city }}</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm">
                <div class="card-header py-3 text-white bg-orange">
                    <h4 class="my-0 fw-normal">Liste de courses</h4>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mt-3 mb-4">
                        {% for food in foods|slice(1,2) %}
                            <li>{{ food.item }}</li>
                        {% endfor %}

                        {% for alcool in alcools|slice(1,2) %}
                            <li>{{ alcool.item }}</li>
                        {% endfor %}
                        <li>...</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="col">
            <div class="card mb-4 rounded-3 shadow-sm">
                <div class="card-header py-3 text-white bg-orange">
                    <h4 class="my-0 fw-normal">Récap. dépenses</h4>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mt-3 mb-4">
                        <li>Alcool: VARIABLE TWIG</li>
                        <li>Alimentation: VARIABLE TWIG</li>
                        <li>Location: VARIABLE TWIG</li>
                        <li>Divers: VARIABLE TWIG</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="my-3 p-3 bg-body rounded shadow-sm">
        <h6 class="border-bottom pb-2 mb-0">Derniers commentaires</h6>
        {% for comment in comments|slice(1,3) %}
        <div class="d-flex text-muted pt-3">
            <img class="rounded-circle p-2 bd-highlight" src="/uploads/{{ comment.picture }}" width="80" height="80" alt="">
            <p class="pb-3 mb-0 small lh-sm border-bottom">
                <strong class="d-block text-gray-dark">@{{ comment.firstname }}</strong>
                <small class="d-block">le {{ comment.date|date("d/m/Y") }} à {{ comment.date|date("h:m:s") }}</small>
                {{ comment.comment }}
            </p>
        </div>
        {% endfor %}
        <small class="d-block text-end mt-3">
            <a href="/party/comments?party_id={{ party_id }}">Voir tous les commentaires</a>
        </small>
    </div>

{% endblock %}

{% block javascript %}

{# JS CHART.JS   #}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.1/chart.min.js" integrity="sha512-QSkVNOCYLtj73J4hbmVoOV6KVZuMluZlioC+trLpewV8qMjsWqlIQvkn1KGX2StWvPMdWGBqim1xlC8krl1EKQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

{% endblock %}
